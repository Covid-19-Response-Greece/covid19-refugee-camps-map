(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ghHD:function(e,a,t){"use strict";t.r(a);var n=t("HaE+"),r=t("dI71"),c=t("q1tI"),s=t.n(c),o=t("KQm4"),i=t("UDbo"),l=t("wd/R"),u=t.n(l),m=(t("baZa"),function(e){var a=e.data,t=e.selectedCamp,n=Object(c.useState)([]),r=n[0],l=n[1],m=Object(c.useState)([]),d=m[0],f=m[1];Object(c.useEffect)((function(){var e=[];if(t){a.map((function(a){a.name_en===t&&a.recorded_events.forEach((function(a){a.confirmed_cases&&e.push({case_detection_week:a.case_detection_week,confirmed_cases:a.confirmed_cases})}))}));l(e)}else{var n,r=a.map((function(e){return e.recorded_events.filter((function(e){return!(!e.case_detection_week||!e.confirmed_cases)}))})).map((function(e){if(e.length>0)return e})).filter((function(e){return!!e}));r.forEach((function(e){e.forEach((function(e){var a=e.case_detection_week.split("-"),t=u()(a[0],"DD/MM/YYYY").format("DD/MM/YYYY")+" - "+u()(a[1],"DD/MM/YYYY").format("DD/MM/YYYY");e.case_detection_week=t}))}));var c=Object.values((n=[]).concat.apply(n,Object(o.a)(r)).reduce((function(e,a){var t=a.case_detection_week,n=a.confirmed_cases;return e[t]=e[t]||{case_detection_week:t,confirmed_cases:0},e[t].confirmed_cases=String(Number(e[t].confirmed_cases)+Number(n)),e}),{}));c.sort((function(e,a){var t=e.case_detection_week.split("-")[0],n=a.case_detection_week.split("-")[0];return u()(t,"DD/MM/YYYY")-u()(n,"DD/MM/YYYY")})),f(c)}}),[a,t]);var p=r[0]?s.a.createElement(i.Line,{options:{title:{display:!0,text:"Confirmed cases of "+t+" Refugees Camp"}},data:{labels:r.map((function(e){return e.case_detection_week})),datasets:[{data:r.map((function(e){return e.confirmed_cases})),label:"Covid19 Confirmed Cases Curve",borderColor:"rgba(255, 0, 0, 0.5)",fill:!0}]}}):s.a.createElement("span",{style:{marginBottom:"35px"}},"There are no recorded cases in ",t,"'s Camp."),h=d[0]?s.a.createElement(i.Line,{options:{title:{display:!0,text:"Total Covid19 Confirmed Cases"}},data:{labels:d.map((function(e){return e.case_detection_week})),datasets:[{data:d.map((function(e){return e.confirmed_cases})),label:"Covid19 Confirmed Cases Curve",borderColor:"red",fill:!0}]}}):null;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"chart"},t?p:h),t&&r[0]?s.a.createElement("h4",null,"Weekly COVID19 Cases Distribution"):null,!t&&s.a.createElement("h4",null,"Weekly COVID19 Cases Distribution"))}),d=t("ADg1"),f=t("R9vF"),p=(t("14aa"),function(e){var a=e.camps,t=e.handleCampChange;return s.a.createElement(d.a,{className:"camppicker"},s.a.createElement(f.a,{defaultValue:"",onChange:function(e){return t(e.target.value)}},s.a.createElement("option",{value:""},"Choose Refugee Camp"),a.map((function(e,a){return s.a.createElement("option",{key:a,value:e},e)}))))}),h=t("JwsL"),C=t("ofer"),b=t("ueZC"),_=(t("zQXu"),t("sOKU")),E=function(e){function a(){for(var a,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(a=e.call.apply(e,[this].concat(r))||this).state={data:[],selectedCamp:"",camps:[]},a.handleCampChange=function(){var e=Object(n.a)((function*(e){a.setState({selectedCamp:e})}));return function(a){return e.apply(this,arguments)}}(),a}Object(r.a)(a,e);var t=a.prototype;return t.componentDidMount=function(){var e=Object(n.a)((function*(){var e=yield Object(b.a)(),a=e.map((function(e){return e.name_en}));this.setState({data:e,camps:a})}));return function(){return e.apply(this,arguments)}}(),t.render=function(){var e=this.state,a=e.data,t=e.camps,n=e.selectedCamp,r=a.reduce((function(e,a){return a.total_confirmed_cases+e}),0);return console.log(r),s.a.createElement("div",{className:"charts"},s.a.createElement("div",{className:"charts-container_outer"},s.a.createElement("div",{className:"charts-container"},s.a.createElement(C.a,{color:"textSecondary"},s.a.createElement("div",null,s.a.createElement("a",{href:"/"},s.a.createElement("img",{class:"alignleft",src:"https://devpap.co.uk/wp-content/uploads/2020/07/icon1.png",alt:"",width:"22",height:"22"})),s.a.createElement("a",{href:"/indexen"},"   Camps Information Map        "),s.a.createElement(_.a,{color:"info","border-radius":"20",href:"/informationen/"},"ABOUT"),s.a.createElement("div",{class:"btn-group",role:"group","aria-label":"GR-EN"},s.a.createElement("a",{href:"/charts",class:"btn btn-secondary btn-sm active",role:"button","aria-pressed":"true"},"GR"),s.a.createElement("a",{href:"/chartsen",class:"btn btn-secondary btn-sm",role:"button","aria-pressed":"true"},"EN")))),s.a.createElement("h4",null,"TOTAL CONFIRMED COVID19 CASES IN ALL CAMPS: ",s.a.createElement("a",{href:"/covid19campsen/",class:"badge-pill badge badge-danger"}," ",r)),s.a.createElement("h6",null,"COVID19 incidents by Refugees Camp"),s.a.createElement(p,{camps:t,handleCampChange:this.handleCampChange}),s.a.createElement(m,{selectedCamp:n,data:a})),s.a.createElement(h.a,null)))},a}(s.a.Component);a.default=E}}]);
//# sourceMappingURL=component---src-pages-chartsen-js-97e4671590e0d514f8a1.js.map