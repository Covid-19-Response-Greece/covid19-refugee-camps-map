(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{yFFX:function(e,t,a){"use strict";a.r(t);var n=a("HaE+"),r=a("dI71"),c=a("q1tI"),o=a.n(c),s=a("KQm4"),l=a("UDbo"),i=a("wd/R"),u=a.n(i),m=(a("baZa"),function(e){var t=e.data,a=e.selectedCamp,n=Object(c.useState)([]),r=n[0],i=n[1],m=Object(c.useState)([]),d=m[0],f=m[1];Object(c.useEffect)((function(){var e=[];if(a){t.map((function(t){t.name_gr===a&&t.recorded_events.forEach((function(t){t.confirmed_cases&&e.push({case_detection_week:t.case_detection_week,confirmed_cases:t.confirmed_cases})}))}));i(e)}else{var n,r=t.map((function(e){return e.recorded_events.filter((function(e){return!(!e.case_detection_week||!e.confirmed_cases)}))})).map((function(e){if(e.length>0)return e})).filter((function(e){return!!e}));r.forEach((function(e){e.forEach((function(e){var t=e.case_detection_week.split("-"),a=u()(t[0],"DD/MM/YYYY").format("DD/MM/YYYY")+" - "+u()(t[1],"DD/MM/YYYY").format("DD/MM/YYYY");e.case_detection_week=a}))}));var c=Object.values((n=[]).concat.apply(n,Object(s.a)(r)).reduce((function(e,t){var a=t.case_detection_week,n=t.confirmed_cases;return e[a]=e[a]||{case_detection_week:a,confirmed_cases:0},e[a].confirmed_cases=String(Number(e[a].confirmed_cases)+Number(n)),e}),{}));c.sort((function(e,t){var a=e.case_detection_week.split("-")[0],n=t.case_detection_week.split("-")[0];return u()(a,"DD/MM/YYYY")-u()(n,"DD/MM/YYYY")})),f(c)}}),[t,a]);var p=r[0]?o.a.createElement(l.Line,{options:{title:{display:!0,text:"Επιβεβαιωμένα Κρούσματα Δομής "+a}},data:{labels:r.map((function(e){return e.case_detection_week})),datasets:[{data:r.map((function(e){return e.confirmed_cases})),label:"Καμπύλη Κρουσμάτων Covid19",borderColor:"rgba(255, 0, 0, 0.5)",fill:!0}]}}):o.a.createElement("span",{style:{marginBottom:"35px"}},"Δεν υπάρχουν καταγεγραμμένα κρούσματα στη δομή ",a,"."),h=d[0]?o.a.createElement(l.Line,{options:{title:{display:!0,text:"Συνολικά επιβεβαιωμένα κρούσματα δομών"}},data:{labels:d.map((function(e){return e.case_detection_week})),datasets:[{data:d.map((function(e){return e.confirmed_cases})),label:"Καμπύλη Κρουσμάτων Covid19",borderColor:"red",fill:!0}]}}):null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"chart"},a?p:h),a&&r[0]?o.a.createElement("h4",null,"Εβδομαδιαία Κατανομή Κρουσμάτων COVID19"):null,!a&&o.a.createElement("h4",null,"Εβδομαδιαία Κατανομή Κρουσμάτων COVID19"))}),d=a("ADg1"),f=a("R9vF"),p=(a("14aa"),function(e){var t=e.camps,a=e.handleCampChange;return o.a.createElement(d.a,{className:"camppicker"},o.a.createElement(f.a,{defaultValue:"",onChange:function(e){return a(e.target.value)}},o.a.createElement("option",{value:""},"Επιλέξτε Δομή Φιλοξενίας Προσφύγων"),t.map((function(e,t){return o.a.createElement("option",{key:t,value:e},e)}))))}),h=a("JwsL"),_=a("ofer"),b=a("ueZC"),E=(a("zQXu"),a("sOKU")),v=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).state={data:[],selectedCamp:"",camps:[]},t.handleCampChange=function(){var e=Object(n.a)((function*(e){t.setState({selectedCamp:e})}));return function(t){return e.apply(this,arguments)}}(),t}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=Object(n.a)((function*(){var e=yield Object(b.a)(),t=e.map((function(e){return e.name_gr}));this.setState({data:e,camps:t})}));return function(){return e.apply(this,arguments)}}(),a.render=function(){var e=this.state,t=e.data,a=e.camps,n=e.selectedCamp,r=t.reduce((function(e,t){return t.total_confirmed_cases+e}),0);return console.log(r),o.a.createElement("div",{className:"charts"},o.a.createElement("div",{className:"charts-container_outer"},o.a.createElement("div",{className:"charts-container"},o.a.createElement(_.a,{color:"textSecondary"},o.a.createElement("div",null,o.a.createElement("a",{href:"/"},o.a.createElement("img",{class:"alignleft",src:"https://devpap.co.uk/wp-content/uploads/2020/07/icon1.png",alt:"",width:"22",height:"22"})),o.a.createElement("a",{href:"/"},"   Χάρτης Πληροφοριών Δομών        "),o.a.createElement(E.a,{color:"info","border-radius":"20",href:"/information/"},"ΣΧΕΤΙΚΑ"),o.a.createElement("div",{class:"btn-group",role:"group","aria-label":"GR-EN"},o.a.createElement("a",{href:"/charts",class:"btn btn-secondary btn-sm active",role:"button","aria-pressed":"true"},"GR"),o.a.createElement("a",{href:"/chartsen",class:"btn btn-secondary btn-sm",role:"button","aria-pressed":"true"},"EN")))),o.a.createElement("h4",null,"ΣΥΝΟΛΟ ΚΡΟΥΣΜΑΤΩΝ COVID19 ΣΕ ΟΛΕΣ ΤΙΣ ΔΟΜΕΣ: ",o.a.createElement("a",{href:"/covid19camps/",class:"badge-pill badge badge-danger"}," ",r)),o.a.createElement("h6",null,"Κρούσματα COVID19 ανά δομή φιλοξενίας"),o.a.createElement(p,{camps:a,handleCampChange:this.handleCampChange}),o.a.createElement(m,{selectedCamp:n,data:t})),o.a.createElement(h.a,null)))},t}(o.a.Component);t.default=v}}]);
//# sourceMappingURL=component---src-pages-charts-js-5d577cc7fa60ba04ba98.js.map